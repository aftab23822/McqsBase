"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/mcqs/batch/route";
exports.ids = ["app/api/mcqs/batch/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcqs%2Fbatch%2Froute&page=%2Fapi%2Fmcqs%2Fbatch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcqs%2Fbatch%2Froute.js&appDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcqs%2Fbatch%2Froute&page=%2Fapi%2Fmcqs%2Fbatch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcqs%2Fbatch%2Froute.js&appDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var E_2_Freelance_mcqs_next_js_app_api_mcqs_batch_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/mcqs/batch/route.js */ \"(rsc)/./app/api/mcqs/batch/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/mcqs/batch/route\",\n        pathname: \"/api/mcqs/batch\",\n        filename: \"route\",\n        bundlePath: \"app/api/mcqs/batch/route\"\n    },\n    resolvedPagePath: \"E:\\\\2.Freelance\\\\mcqs\\\\next-js\\\\app\\\\api\\\\mcqs\\\\batch\\\\route.js\",\n    nextConfigOutput,\n    userland: E_2_Freelance_mcqs_next_js_app_api_mcqs_batch_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/mcqs/batch/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZtY3FzJTJGYmF0Y2glMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm1jcXMlMkZiYXRjaCUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm1jcXMlMkZiYXRjaCUyRnJvdXRlLmpzJmFwcERpcj1FJTNBJTVDMi5GcmVlbGFuY2UlNUNtY3FzJTVDbmV4dC1qcyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RSUzQSU1QzIuRnJlZWxhbmNlJTVDbWNxcyU1Q25leHQtanMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2U7QUFDNUY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0XzMvPzcyMGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRTpcXFxcMi5GcmVlbGFuY2VcXFxcbWNxc1xcXFxuZXh0LWpzXFxcXGFwcFxcXFxhcGlcXFxcbWNxc1xcXFxiYXRjaFxcXFxyb3V0ZS5qc1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbWNxcy9iYXRjaC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL21jcXMvYmF0Y2hcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL21jcXMvYmF0Y2gvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJFOlxcXFwyLkZyZWVsYW5jZVxcXFxtY3FzXFxcXG5leHQtanNcXFxcYXBwXFxcXGFwaVxcXFxtY3FzXFxcXGJhdGNoXFxcXHJvdXRlLmpzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9tY3FzL2JhdGNoL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcqs%2Fbatch%2Froute&page=%2Fapi%2Fmcqs%2Fbatch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcqs%2Fbatch%2Froute.js&appDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/mcqs/batch/route.js":
/*!*************************************!*\
  !*** ./app/api/mcqs/batch/route.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../lib/mongodb.js */ \"(rsc)/./lib/mongodb.js\");\n/* harmony import */ var _lib_models_MCQ_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/models/MCQ.js */ \"(rsc)/./lib/models/MCQ.js\");\n/* harmony import */ var _lib_models_Category_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/models/Category.js */ \"(rsc)/./lib/models/Category.js\");\n/* harmony import */ var _lib_utils_categoryUtils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../lib/utils/categoryUtils.js */ \"(rsc)/./lib/utils/categoryUtils.js\");\n\n\n\n\n\n// Batch upload MCQs - matches your existing mcqController.batchUploadMcqs\nasync function POST(request) {\n    try {\n        await (0,_lib_mongodb_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])();\n        const { mcqs, category: clientCategory } = await request.json();\n        const { searchParams } = new URL(request.url);\n        console.log(\"Batch upload received:\", {\n            mcqsCount: Array.isArray(mcqs) ? mcqs.length : 0,\n            category: clientCategory,\n            firstMcq: mcqs?.[0]\n        });\n        console.log(\"First 3 questions being uploaded:\", mcqs.slice(0, 3).map((m)=>m.question));\n        if (!Array.isArray(mcqs) || mcqs.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                message: \"No MCQs provided\"\n            }, {\n                status: 400\n            });\n        }\n        // Prefer category sent by client, then req.query, then fallback to detail_link\n        let categoryName = null;\n        if (clientCategory) {\n            categoryName = (0,_lib_utils_categoryUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeCategoryName)(clientCategory);\n        } else if (searchParams.get(\"category\")) {\n            categoryName = (0,_lib_utils_categoryUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeCategoryName)(searchParams.get(\"category\"));\n        } else if (mcqs[0].detail_link) {\n            const match = mcqs[0].detail_link.match(/pakmcqs\\.com\\/([^\\/]+)/);\n            if (match) categoryName = (0,_lib_utils_categoryUtils_js__WEBPACK_IMPORTED_MODULE_4__.normalizeCategoryName)(match[1]);\n        }\n        if (!categoryName) {\n            categoryName = \"uncategorized\";\n        }\n        // Find or create the category\n        let category = await _lib_models_Category_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"].findOne({\n            name: categoryName\n        });\n        if (!category) {\n            category = new _lib_models_Category_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n                name: categoryName,\n                type: \"MCQ\"\n            });\n            await category.save();\n        }\n        // Deduplication: get all existing questions for this category\n        const existingQuestions = new Set((await _lib_models_MCQ_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find({\n            categoryId: category._id\n        }, \"question\")).map((q)=>q.question));\n        console.log(\"Existing questions count:\", existingQuestions.size);\n        console.log(\"Sample existing questions:\", Array.from(existingQuestions).slice(0, 3));\n        // Prepare MCQs for insertion (latest at top), skip duplicates\n        const docs = mcqs.filter((m)=>!existingQuestions.has(m.question)).map((m)=>{\n            // Convert options object to array format if needed\n            let optionsToSave = m.options;\n            if (m.options && typeof m.options === \"object\" && !Array.isArray(m.options)) {\n                // Convert {A: \"...\", B: \"...\", C: \"...\", D: \"...\", E: \"...\"} to array\n                optionsToSave = Object.values(m.options);\n            }\n            // Filter out empty strings from options array\n            if (Array.isArray(optionsToSave)) {\n                optionsToSave = optionsToSave.filter((opt)=>opt && opt.trim() !== \"\");\n            }\n            // Convert answer from letter (A, B, C, D, E) to the actual option text\n            let normalizedAnswer = m.correct_option;\n            if (typeof normalizedAnswer === \"string\") {\n                normalizedAnswer = normalizedAnswer.toUpperCase().trim();\n                // If answer is a letter (A, B, C, D, E), convert it to the option text\n                if ([\n                    \"A\",\n                    \"B\",\n                    \"C\",\n                    \"D\",\n                    \"E\"\n                ].includes(normalizedAnswer)) {\n                    const optionIndex = normalizedAnswer.charCodeAt(0) - 65; // A=0, B=1, C=2, etc.\n                    if (optionsToSave[optionIndex]) {\n                        normalizedAnswer = optionsToSave[optionIndex];\n                    }\n                }\n            // If answer is already the full text, keep it as is\n            }\n            return {\n                question: m.question,\n                options: optionsToSave,\n                answer: normalizedAnswer,\n                explanation: m.explanation || \"\",\n                categoryId: category._id,\n                link: m.detail_link,\n                submittedBy: m.submitter || \"Admin\",\n                pageOrder: m.pageOrder || 0\n            };\n        });\n        console.log(\"Prepared docs for insertion:\", {\n            count: docs.length,\n            sample: docs[0],\n            categoryId: category._id\n        });\n        let insertedCount = 0;\n        if (docs.length > 0) {\n            try {\n                const result = await _lib_models_MCQ_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].insertMany(docs, {\n                    ordered: false\n                });\n                console.log(\"insertMany result:\", result);\n                console.log(\"result type:\", typeof result);\n                console.log(\"result length:\", result?.length);\n                insertedCount = Array.isArray(result) ? result.length : 0;\n                console.log(\"Successfully inserted:\", insertedCount, \"documents\");\n            } catch (insertError) {\n                console.error(\"Insert error:\", insertError);\n                // insertMany returns partial results on error when ordered: false\n                if (insertError.insertedIds) {\n                    insertedCount = Object.keys(insertError.insertedIds).length;\n                    console.log(\"Partially inserted:\", insertedCount, \"documents\");\n                    console.log(\"Write errors:\", insertError.writeErrors);\n                }\n                throw insertError;\n            }\n        }\n        console.log(\"Batch upload results:\", {\n            totalReceived: mcqs.length,\n            afterDedup: docs.length,\n            inserted: insertedCount,\n            skipped: mcqs.length - docs.length\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            inserted: insertedCount,\n            skipped: mcqs.length - docs.length\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error(\"Error batch uploading MCQs:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            message: \"Error batch uploading MCQs\",\n            error: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxPQUFPdkUscURBQVlBLENBQUNVLElBQUksQ0FDdEI7WUFBRWUsU0FBUztZQUE4QjhDLE9BQU9BLE1BQU05QyxPQUFPO1FBQUMsR0FDOUQ7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0XzMvLi9hcHAvYXBpL21jcXMvYmF0Y2gvcm91dGUuanM/NzQ2ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCBjb25uZWN0VG9EYXRhYmFzZSBmcm9tICcuLi8uLi8uLi8uLi9saWIvbW9uZ29kYi5qcyc7XHJcbmltcG9ydCBNQ1EgZnJvbSAnLi4vLi4vLi4vLi4vbGliL21vZGVscy9NQ1EuanMnO1xyXG5pbXBvcnQgQ2F0ZWdvcnkgZnJvbSAnLi4vLi4vLi4vLi4vbGliL21vZGVscy9DYXRlZ29yeS5qcyc7XHJcbmltcG9ydCB7IG5vcm1hbGl6ZUNhdGVnb3J5TmFtZSB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi91dGlscy9jYXRlZ29yeVV0aWxzLmpzJztcclxuXHJcbi8vIEJhdGNoIHVwbG9hZCBNQ1FzIC0gbWF0Y2hlcyB5b3VyIGV4aXN0aW5nIG1jcUNvbnRyb2xsZXIuYmF0Y2hVcGxvYWRNY3FzXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgY29ubmVjdFRvRGF0YWJhc2UoKTtcclxuXHJcbiAgICBjb25zdCB7IG1jcXMsIGNhdGVnb3J5OiBjbGllbnRDYXRlZ29yeSB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybCk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0JhdGNoIHVwbG9hZCByZWNlaXZlZDonLCB7XHJcbiAgICAgIG1jcXNDb3VudDogQXJyYXkuaXNBcnJheShtY3FzKSA/IG1jcXMubGVuZ3RoIDogMCxcclxuICAgICAgY2F0ZWdvcnk6IGNsaWVudENhdGVnb3J5LFxyXG4gICAgICBmaXJzdE1jcTogbWNxcz8uWzBdXHJcbiAgICB9KTtcclxuICAgIGNvbnNvbGUubG9nKCdGaXJzdCAzIHF1ZXN0aW9ucyBiZWluZyB1cGxvYWRlZDonLCBtY3FzLnNsaWNlKDAsIDMpLm1hcChtID0+IG0ucXVlc3Rpb24pKTtcclxuXHJcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkobWNxcykgfHwgbWNxcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgbWVzc2FnZTogJ05vIE1DUXMgcHJvdmlkZWQnIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJlZmVyIGNhdGVnb3J5IHNlbnQgYnkgY2xpZW50LCB0aGVuIHJlcS5xdWVyeSwgdGhlbiBmYWxsYmFjayB0byBkZXRhaWxfbGlua1xyXG4gICAgbGV0IGNhdGVnb3J5TmFtZSA9IG51bGw7XHJcbiAgICBpZiAoY2xpZW50Q2F0ZWdvcnkpIHtcclxuICAgICAgY2F0ZWdvcnlOYW1lID0gbm9ybWFsaXplQ2F0ZWdvcnlOYW1lKGNsaWVudENhdGVnb3J5KTtcclxuICAgIH0gZWxzZSBpZiAoc2VhcmNoUGFyYW1zLmdldCgnY2F0ZWdvcnknKSkge1xyXG4gICAgICBjYXRlZ29yeU5hbWUgPSBub3JtYWxpemVDYXRlZ29yeU5hbWUoc2VhcmNoUGFyYW1zLmdldCgnY2F0ZWdvcnknKSk7XHJcbiAgICB9IGVsc2UgaWYgKG1jcXNbMF0uZGV0YWlsX2xpbmspIHtcclxuICAgICAgY29uc3QgbWF0Y2ggPSBtY3FzWzBdLmRldGFpbF9saW5rLm1hdGNoKC9wYWttY3FzXFwuY29tXFwvKFteXFwvXSspLyk7XHJcbiAgICAgIGlmIChtYXRjaCkgY2F0ZWdvcnlOYW1lID0gbm9ybWFsaXplQ2F0ZWdvcnlOYW1lKG1hdGNoWzFdKTtcclxuICAgIH1cclxuICAgIGlmICghY2F0ZWdvcnlOYW1lKSB7XHJcbiAgICAgIGNhdGVnb3J5TmFtZSA9ICd1bmNhdGVnb3JpemVkJztcclxuICAgIH1cclxuXHJcbiAgICAvLyBGaW5kIG9yIGNyZWF0ZSB0aGUgY2F0ZWdvcnlcclxuICAgIGxldCBjYXRlZ29yeSA9IGF3YWl0IENhdGVnb3J5LmZpbmRPbmUoeyBuYW1lOiBjYXRlZ29yeU5hbWUgfSk7XHJcbiAgICBpZiAoIWNhdGVnb3J5KSB7XHJcbiAgICAgIGNhdGVnb3J5ID0gbmV3IENhdGVnb3J5KHsgbmFtZTogY2F0ZWdvcnlOYW1lLCB0eXBlOiAnTUNRJyB9KTtcclxuICAgICAgYXdhaXQgY2F0ZWdvcnkuc2F2ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlZHVwbGljYXRpb246IGdldCBhbGwgZXhpc3RpbmcgcXVlc3Rpb25zIGZvciB0aGlzIGNhdGVnb3J5XHJcbiAgICBjb25zdCBleGlzdGluZ1F1ZXN0aW9ucyA9IG5ldyBTZXQoXHJcbiAgICAgIChhd2FpdCBNQ1EuZmluZCh7IGNhdGVnb3J5SWQ6IGNhdGVnb3J5Ll9pZCB9LCAncXVlc3Rpb24nKSkubWFwKHEgPT4gcS5xdWVzdGlvbilcclxuICAgICk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0V4aXN0aW5nIHF1ZXN0aW9ucyBjb3VudDonLCBleGlzdGluZ1F1ZXN0aW9ucy5zaXplKTtcclxuICAgIGNvbnNvbGUubG9nKCdTYW1wbGUgZXhpc3RpbmcgcXVlc3Rpb25zOicsIEFycmF5LmZyb20oZXhpc3RpbmdRdWVzdGlvbnMpLnNsaWNlKDAsIDMpKTtcclxuXHJcbiAgICAvLyBQcmVwYXJlIE1DUXMgZm9yIGluc2VydGlvbiAobGF0ZXN0IGF0IHRvcCksIHNraXAgZHVwbGljYXRlc1xyXG4gICAgY29uc3QgZG9jcyA9IG1jcXMuZmlsdGVyKG0gPT4gIWV4aXN0aW5nUXVlc3Rpb25zLmhhcyhtLnF1ZXN0aW9uKSkubWFwKG0gPT4ge1xyXG4gICAgICAvLyBDb252ZXJ0IG9wdGlvbnMgb2JqZWN0IHRvIGFycmF5IGZvcm1hdCBpZiBuZWVkZWRcclxuICAgICAgbGV0IG9wdGlvbnNUb1NhdmUgPSBtLm9wdGlvbnM7XHJcbiAgICAgIGlmIChtLm9wdGlvbnMgJiYgdHlwZW9mIG0ub3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkobS5vcHRpb25zKSkge1xyXG4gICAgICAgIC8vIENvbnZlcnQge0E6IFwiLi4uXCIsIEI6IFwiLi4uXCIsIEM6IFwiLi4uXCIsIEQ6IFwiLi4uXCIsIEU6IFwiLi4uXCJ9IHRvIGFycmF5XHJcbiAgICAgICAgb3B0aW9uc1RvU2F2ZSA9IE9iamVjdC52YWx1ZXMobS5vcHRpb25zKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gRmlsdGVyIG91dCBlbXB0eSBzdHJpbmdzIGZyb20gb3B0aW9ucyBhcnJheVxyXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRpb25zVG9TYXZlKSkge1xyXG4gICAgICAgIG9wdGlvbnNUb1NhdmUgPSBvcHRpb25zVG9TYXZlLmZpbHRlcihvcHQgPT4gb3B0ICYmIG9wdC50cmltKCkgIT09ICcnKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gQ29udmVydCBhbnN3ZXIgZnJvbSBsZXR0ZXIgKEEsIEIsIEMsIEQsIEUpIHRvIHRoZSBhY3R1YWwgb3B0aW9uIHRleHRcclxuICAgICAgbGV0IG5vcm1hbGl6ZWRBbnN3ZXIgPSBtLmNvcnJlY3Rfb3B0aW9uO1xyXG4gICAgICBpZiAodHlwZW9mIG5vcm1hbGl6ZWRBbnN3ZXIgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgbm9ybWFsaXplZEFuc3dlciA9IG5vcm1hbGl6ZWRBbnN3ZXIudG9VcHBlckNhc2UoKS50cmltKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgYW5zd2VyIGlzIGEgbGV0dGVyIChBLCBCLCBDLCBELCBFKSwgY29udmVydCBpdCB0byB0aGUgb3B0aW9uIHRleHRcclxuICAgICAgICBpZiAoWydBJywgJ0InLCAnQycsICdEJywgJ0UnXS5pbmNsdWRlcyhub3JtYWxpemVkQW5zd2VyKSkge1xyXG4gICAgICAgICAgY29uc3Qgb3B0aW9uSW5kZXggPSBub3JtYWxpemVkQW5zd2VyLmNoYXJDb2RlQXQoMCkgLSA2NTsgLy8gQT0wLCBCPTEsIEM9MiwgZXRjLlxyXG4gICAgICAgICAgaWYgKG9wdGlvbnNUb1NhdmVbb3B0aW9uSW5kZXhdKSB7XHJcbiAgICAgICAgICAgIG5vcm1hbGl6ZWRBbnN3ZXIgPSBvcHRpb25zVG9TYXZlW29wdGlvbkluZGV4XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgYW5zd2VyIGlzIGFscmVhZHkgdGhlIGZ1bGwgdGV4dCwga2VlcCBpdCBhcyBpc1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHF1ZXN0aW9uOiBtLnF1ZXN0aW9uLFxyXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnNUb1NhdmUsXHJcbiAgICAgICAgYW5zd2VyOiBub3JtYWxpemVkQW5zd2VyLFxyXG4gICAgICAgIGV4cGxhbmF0aW9uOiBtLmV4cGxhbmF0aW9uIHx8ICcnLFxyXG4gICAgICAgIGNhdGVnb3J5SWQ6IGNhdGVnb3J5Ll9pZCxcclxuICAgICAgICBsaW5rOiBtLmRldGFpbF9saW5rLFxyXG4gICAgICAgIHN1Ym1pdHRlZEJ5OiBtLnN1Ym1pdHRlciB8fCAnQWRtaW4nLFxyXG4gICAgICAgIHBhZ2VPcmRlcjogbS5wYWdlT3JkZXIgfHwgMFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ1ByZXBhcmVkIGRvY3MgZm9yIGluc2VydGlvbjonLCB7XHJcbiAgICAgIGNvdW50OiBkb2NzLmxlbmd0aCxcclxuICAgICAgc2FtcGxlOiBkb2NzWzBdLFxyXG4gICAgICBjYXRlZ29yeUlkOiBjYXRlZ29yeS5faWRcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBpbnNlcnRlZENvdW50ID0gMDtcclxuICAgIGlmIChkb2NzLmxlbmd0aCA+IDApIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBNQ1EuaW5zZXJ0TWFueShkb2NzLCB7IG9yZGVyZWQ6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdpbnNlcnRNYW55IHJlc3VsdDonLCByZXN1bHQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQgdHlwZTonLCB0eXBlb2YgcmVzdWx0KTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0IGxlbmd0aDonLCByZXN1bHQ/Lmxlbmd0aCk7XHJcbiAgICAgICAgaW5zZXJ0ZWRDb3VudCA9IEFycmF5LmlzQXJyYXkocmVzdWx0KSA/IHJlc3VsdC5sZW5ndGggOiAwO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgaW5zZXJ0ZWQ6JywgaW5zZXJ0ZWRDb3VudCwgJ2RvY3VtZW50cycpO1xyXG4gICAgICB9IGNhdGNoIChpbnNlcnRFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0luc2VydCBlcnJvcjonLCBpbnNlcnRFcnJvcik7XHJcbiAgICAgICAgLy8gaW5zZXJ0TWFueSByZXR1cm5zIHBhcnRpYWwgcmVzdWx0cyBvbiBlcnJvciB3aGVuIG9yZGVyZWQ6IGZhbHNlXHJcbiAgICAgICAgaWYgKGluc2VydEVycm9yLmluc2VydGVkSWRzKSB7XHJcbiAgICAgICAgICBpbnNlcnRlZENvdW50ID0gT2JqZWN0LmtleXMoaW5zZXJ0RXJyb3IuaW5zZXJ0ZWRJZHMpLmxlbmd0aDtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdQYXJ0aWFsbHkgaW5zZXJ0ZWQ6JywgaW5zZXJ0ZWRDb3VudCwgJ2RvY3VtZW50cycpO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ1dyaXRlIGVycm9yczonLCBpbnNlcnRFcnJvci53cml0ZUVycm9ycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IGluc2VydEVycm9yO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ0JhdGNoIHVwbG9hZCByZXN1bHRzOicsIHtcclxuICAgICAgdG90YWxSZWNlaXZlZDogbWNxcy5sZW5ndGgsXHJcbiAgICAgIGFmdGVyRGVkdXA6IGRvY3MubGVuZ3RoLFxyXG4gICAgICBpbnNlcnRlZDogaW5zZXJ0ZWRDb3VudCxcclxuICAgICAgc2tpcHBlZDogbWNxcy5sZW5ndGggLSBkb2NzLmxlbmd0aFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgIGluc2VydGVkOiBpbnNlcnRlZENvdW50LCBcclxuICAgICAgc2tpcHBlZDogbWNxcy5sZW5ndGggLSBkb2NzLmxlbmd0aCBcclxuICAgIH0sIHsgc3RhdHVzOiAyMDEgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGJhdGNoIHVwbG9hZGluZyBNQ1FzOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnRXJyb3IgYmF0Y2ggdXBsb2FkaW5nIE1DUXMnLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIk1DUSIsIkNhdGVnb3J5Iiwibm9ybWFsaXplQ2F0ZWdvcnlOYW1lIiwiUE9TVCIsInJlcXVlc3QiLCJtY3FzIiwiY2F0ZWdvcnkiLCJjbGllbnRDYXRlZ29yeSIsImpzb24iLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJ1cmwiLCJjb25zb2xlIiwibG9nIiwibWNxc0NvdW50IiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZmlyc3RNY3EiLCJzbGljZSIsIm1hcCIsIm0iLCJxdWVzdGlvbiIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJjYXRlZ29yeU5hbWUiLCJnZXQiLCJkZXRhaWxfbGluayIsIm1hdGNoIiwiZmluZE9uZSIsIm5hbWUiLCJ0eXBlIiwic2F2ZSIsImV4aXN0aW5nUXVlc3Rpb25zIiwiU2V0IiwiZmluZCIsImNhdGVnb3J5SWQiLCJfaWQiLCJxIiwic2l6ZSIsImZyb20iLCJkb2NzIiwiZmlsdGVyIiwiaGFzIiwib3B0aW9uc1RvU2F2ZSIsIm9wdGlvbnMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJvcHQiLCJ0cmltIiwibm9ybWFsaXplZEFuc3dlciIsImNvcnJlY3Rfb3B0aW9uIiwidG9VcHBlckNhc2UiLCJpbmNsdWRlcyIsIm9wdGlvbkluZGV4IiwiY2hhckNvZGVBdCIsImFuc3dlciIsImV4cGxhbmF0aW9uIiwibGluayIsInN1Ym1pdHRlZEJ5Iiwic3VibWl0dGVyIiwicGFnZU9yZGVyIiwiY291bnQiLCJzYW1wbGUiLCJpbnNlcnRlZENvdW50IiwicmVzdWx0IiwiaW5zZXJ0TWFueSIsIm9yZGVyZWQiLCJpbnNlcnRFcnJvciIsImVycm9yIiwiaW5zZXJ0ZWRJZHMiLCJrZXlzIiwid3JpdGVFcnJvcnMiLCJ0b3RhbFJlY2VpdmVkIiwiYWZ0ZXJEZWR1cCIsImluc2VydGVkIiwic2tpcHBlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/mcqs/batch/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/models/Category.js":
/*!********************************!*\
  !*** ./lib/models/Category.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nconst categorySchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    type: {\n        type: String,\n        enum: [\n            \"MCQ\",\n            \"Quiz\",\n            \"PastPaper\",\n            \"Interview\"\n        ],\n        required: true\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0__.models.Category || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"Category\", categorySchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9kZWxzL0NhdGVnb3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWdDO0FBRWhDLE1BQU1DLGlCQUFpQixJQUFJRCw0Q0FBZSxDQUFDO0lBQ3pDRyxNQUFNO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUNyQ0YsTUFBTTtRQUFFQSxNQUFNQztRQUFRRSxNQUFNO1lBQUM7WUFBTztZQUFRO1lBQWE7U0FBWTtRQUFFRCxVQUFVO0lBQUs7QUFDeEYsR0FBRztJQUFFRSxZQUFZO0FBQUs7QUFFdEIsaUVBQWVSLDRDQUFlLENBQUNVLFFBQVEsSUFBSVYsMkNBQWMsQ0FBQyxZQUFZQyxlQUFlQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamVjdF8zLy4vbGliL21vZGVscy9DYXRlZ29yeS5qcz9kNWJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBjYXRlZ29yeVNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHR5cGU6IHsgdHlwZTogU3RyaW5nLCBlbnVtOiBbJ01DUScsICdRdWl6JywgJ1Bhc3RQYXBlcicsICdJbnRlcnZpZXcnXSwgcmVxdWlyZWQ6IHRydWUgfVxyXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuQ2F0ZWdvcnkgfHwgbW9uZ29vc2UubW9kZWwoJ0NhdGVnb3J5JywgY2F0ZWdvcnlTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjYXRlZ29yeVNjaGVtYSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJlbnVtIiwidGltZXN0YW1wcyIsIm1vZGVscyIsIkNhdGVnb3J5IiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/models/Category.js\n");

/***/ }),

/***/ "(rsc)/./lib/models/MCQ.js":
/*!***************************!*\
  !*** ./lib/models/MCQ.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var _mongodb_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mongodb.js */ \"(rsc)/./lib/mongodb.js\");\n\n\nconst mcqSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    question: {\n        type: String,\n        required: true\n    },\n    options: [\n        {\n            type: String,\n            required: true\n        }\n    ],\n    answer: {\n        type: String,\n        required: true\n    },\n    explanation: {\n        type: String\n    },\n    categoryId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"Category\"\n    },\n    subcategoryId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: \"Subcategory\"\n    },\n    link: {\n        type: String\n    },\n    submittedBy: {\n        type: String\n    },\n    pageOrder: {\n        type: Number,\n        default: 0\n    } // Track order within page\n}, {\n    timestamps: true\n});\n// Prevent re-compilation during development\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (mongoose__WEBPACK_IMPORTED_MODULE_0__.models.MCQ || mongoose__WEBPACK_IMPORTED_MODULE_0__.model(\"MCQ\", mcqSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9kZWxzL01DUS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFDYztBQUU5QyxNQUFNRSxZQUFZLElBQUlGLDRDQUFlLENBQUM7SUFDcENJLFVBQVU7UUFBRUMsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3pDQyxTQUFTO1FBQUM7WUFBRUgsTUFBTUM7WUFBUUMsVUFBVTtRQUFLO0tBQUU7SUFDM0NFLFFBQVE7UUFBRUosTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3ZDRyxhQUFhO1FBQUVMLE1BQU1DO0lBQU87SUFDNUJLLFlBQVk7UUFBRU4sTUFBTUwsNENBQWUsQ0FBQ1ksS0FBSyxDQUFDQyxRQUFRO1FBQUVDLEtBQUs7SUFBVztJQUNwRUMsZUFBZTtRQUFFVixNQUFNTCw0Q0FBZSxDQUFDWSxLQUFLLENBQUNDLFFBQVE7UUFBRUMsS0FBSztJQUFjO0lBQzFFRSxNQUFNO1FBQUVYLE1BQU1DO0lBQU87SUFDckJXLGFBQWE7UUFBRVosTUFBTUM7SUFBTztJQUM1QlksV0FBVztRQUFFYixNQUFNYztRQUFRQyxTQUFTO0lBQUUsRUFBRywwQkFBMEI7QUFDckUsR0FBRztJQUFFQyxZQUFZO0FBQUs7QUFFdEIsNENBQTRDO0FBQzVDLGlFQUFlckIsNENBQWUsQ0FBQ3VCLEdBQUcsSUFBSXZCLDJDQUFjLENBQUMsT0FBT0UsVUFBVUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3Byb2plY3RfMy8uL2xpYi9tb2RlbHMvTUNRLmpzPzExM2MiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IGNvbm5lY3RUb0RhdGFiYXNlIGZyb20gJy4uL21vbmdvZGIuanMnO1xyXG5cclxuY29uc3QgbWNxU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgcXVlc3Rpb246IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIG9wdGlvbnM6IFt7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfV0sXHJcbiAgYW5zd2VyOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBleHBsYW5hdGlvbjogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBjYXRlZ29yeUlkOiB7IHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnQ2F0ZWdvcnknIH0sXHJcbiAgc3ViY2F0ZWdvcnlJZDogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1N1YmNhdGVnb3J5JyB9LFxyXG4gIGxpbms6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgc3VibWl0dGVkQnk6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgcGFnZU9yZGVyOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9ICAvLyBUcmFjayBvcmRlciB3aXRoaW4gcGFnZVxyXG59LCB7IHRpbWVzdGFtcHM6IHRydWUgfSk7XHJcblxyXG4vLyBQcmV2ZW50IHJlLWNvbXBpbGF0aW9uIGR1cmluZyBkZXZlbG9wbWVudFxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuTUNRIHx8IG1vbmdvb3NlLm1vZGVsKCdNQ1EnLCBtY3FTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJjb25uZWN0VG9EYXRhYmFzZSIsIm1jcVNjaGVtYSIsIlNjaGVtYSIsInF1ZXN0aW9uIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwib3B0aW9ucyIsImFuc3dlciIsImV4cGxhbmF0aW9uIiwiY2F0ZWdvcnlJZCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJzdWJjYXRlZ29yeUlkIiwibGluayIsInN1Ym1pdHRlZEJ5IiwicGFnZU9yZGVyIiwiTnVtYmVyIiwiZGVmYXVsdCIsInRpbWVzdGFtcHMiLCJtb2RlbHMiLCJNQ1EiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/models/MCQ.js\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.js":
/*!************************!*\
  !*** ./lib/mongodb.js ***!
  \************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n\nif (!process.env.MONGO_URI) {\n    throw new Error(\"Please define the MONGO_URI environment variable inside .env.local\");\n}\nconst MONGO_URI = process.env.MONGO_URI;\n/**\r\n * Global is used here to maintain a cached connection across hot reloads\r\n * in development. This prevents connections growing exponentially\r\n * during API Route usage.\r\n */ let cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function connectToDatabase() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0__.connect(MONGO_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectToDatabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFnQztBQUVoQyxJQUFJLENBQUNDLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUyxFQUFFO0lBQzFCLE1BQU0sSUFBSUMsTUFBTTtBQUNsQjtBQUVBLE1BQU1ELFlBQVlGLFFBQVFDLEdBQUcsQ0FBQ0MsU0FBUztBQUV2Qzs7OztDQUlDLEdBQ0QsSUFBSUUsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZixPQUFPRixPQUFPRSxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkIsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7UUFDbEI7UUFFQU4sT0FBT0csT0FBTyxHQUFHUiw2Q0FBZ0IsQ0FBQ0csV0FBV08sTUFBTUcsSUFBSSxDQUFDLENBQUNiO1lBQ3ZELE9BQU9BO1FBQ1Q7SUFDRjtJQUVBLElBQUk7UUFDRkssT0FBT0UsSUFBSSxHQUFHLE1BQU1GLE9BQU9HLE9BQU87SUFDcEMsRUFBRSxPQUFPTSxHQUFHO1FBQ1ZULE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNTTtJQUNSO0lBRUEsT0FBT1QsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxpQkFBaUJBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0XzMvLi9saWIvbW9uZ29kYi5qcz9kOTIwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPX1VSSSkge1xyXG4gIHRocm93IG5ldyBFcnJvcignUGxlYXNlIGRlZmluZSB0aGUgTU9OR09fVVJJIGVudmlyb25tZW50IHZhcmlhYmxlIGluc2lkZSAuZW52LmxvY2FsJyk7XHJcbn1cclxuXHJcbmNvbnN0IE1PTkdPX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPX1VSSTtcclxuXHJcbi8qKlxyXG4gKiBHbG9iYWwgaXMgdXNlZCBoZXJlIHRvIG1haW50YWluIGEgY2FjaGVkIGNvbm5lY3Rpb24gYWNyb3NzIGhvdCByZWxvYWRzXHJcbiAqIGluIGRldmVsb3BtZW50LiBUaGlzIHByZXZlbnRzIGNvbm5lY3Rpb25zIGdyb3dpbmcgZXhwb25lbnRpYWxseVxyXG4gKiBkdXJpbmcgQVBJIFJvdXRlIHVzYWdlLlxyXG4gKi9cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3RUb0RhdGFiYXNlKCkge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfTtcclxuXHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09fVVJJLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xyXG4gICAgICByZXR1cm4gbW9uZ29vc2U7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNhY2hlZC5wcm9taXNlID0gbnVsbDtcclxuICAgIHRocm93IGU7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RUb0RhdGFiYXNlO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09fVVJJIiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImNvbm5lY3RUb0RhdGFiYXNlIiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwiY29ubmVjdCIsInRoZW4iLCJlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.js\n");

/***/ }),

/***/ "(rsc)/./lib/utils/categoryConfig.js":
/*!*************************************!*\
  !*** ./lib/utils/categoryConfig.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories),\n/* harmony export */   normalizeCategoryName: () => (/* binding */ normalizeCategoryName)\n/* harmony export */ });\n/* harmony import */ var _shared_categoryMapping_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../shared/categoryMapping.json */ \"(rsc)/./shared/categoryMapping.json\");\n// Unified category configuration for Next.js\n// Loads category mappings from shared JSON configuration\n\nconst CATEGORY_MAPPING = _shared_categoryMapping_json__WEBPACK_IMPORTED_MODULE_0__.mappings;\nconst CATEGORIES = _shared_categoryMapping_json__WEBPACK_IMPORTED_MODULE_0__.categories;\n// JavaScript version of normalizeCategoryName\nfunction normalizeCategoryName(raw) {\n    let name = raw.toLowerCase().replace(/_/g, \"-\");\n    if (name.endsWith(\"-mcqs\")) name = name.slice(0, -5);\n    if (name.endsWith(\"-mcq\")) name = name.slice(0, -4);\n    // First try exact matches\n    if (CATEGORY_MAPPING[name]) {\n        return CATEGORY_MAPPING[name];\n    }\n    // Then try prefix matches for cases where we want partial matching\n    // Sort by length (longest first) to ensure more specific matches come first\n    const sortedKeys = Object.keys(CATEGORY_MAPPING).sort((a, b)=>b.length - a.length);\n    for (const key of sortedKeys){\n        if (name.startsWith(key)) return CATEGORY_MAPPING[key];\n    }\n    return name;\n}\n// Get all available categories for the admin panel\nconst getAllCategories = ()=>{\n    return CATEGORIES;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMvY2F0ZWdvcnlDb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsNkNBQTZDO0FBQzdDLHlEQUF5RDtBQUVJO0FBRTdELE1BQU1DLG1CQUFtQkQsa0VBQXFCO0FBQzlDLE1BQU1HLGFBQWFILG9FQUF1QjtBQUUxQyw4Q0FBOEM7QUFDdkMsU0FBU0ssc0JBQXNCQyxHQUFHO0lBQ3ZDLElBQUlDLE9BQU9ELElBQUlFLFdBQVcsR0FBR0MsT0FBTyxDQUFDLE1BQU07SUFDM0MsSUFBSUYsS0FBS0csUUFBUSxDQUFDLFVBQVVILE9BQU9BLEtBQUtJLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFDbEQsSUFBSUosS0FBS0csUUFBUSxDQUFDLFNBQVNILE9BQU9BLEtBQUtJLEtBQUssQ0FBQyxHQUFHLENBQUM7SUFFakQsMEJBQTBCO0lBQzFCLElBQUlWLGdCQUFnQixDQUFDTSxLQUFLLEVBQUU7UUFDMUIsT0FBT04sZ0JBQWdCLENBQUNNLEtBQUs7SUFDL0I7SUFFQSxtRUFBbUU7SUFDbkUsNEVBQTRFO0lBQzVFLE1BQU1LLGFBQWFDLE9BQU9DLElBQUksQ0FBQ2Isa0JBQWtCYyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsRUFBRUMsTUFBTSxHQUFHRixFQUFFRSxNQUFNO0lBQ25GLEtBQUssTUFBTUMsT0FBT1AsV0FBWTtRQUM1QixJQUFJTCxLQUFLYSxVQUFVLENBQUNELE1BQU0sT0FBT2xCLGdCQUFnQixDQUFDa0IsSUFBSTtJQUN4RDtJQUNBLE9BQU9aO0FBQ1Q7QUFFQSxtREFBbUQ7QUFDNUMsTUFBTWMsbUJBQW1CO0lBQzlCLE9BQU9sQjtBQUNULEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0XzMvLi9saWIvdXRpbHMvY2F0ZWdvcnlDb25maWcuanM/MTE0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBVbmlmaWVkIGNhdGVnb3J5IGNvbmZpZ3VyYXRpb24gZm9yIE5leHQuanNcclxuLy8gTG9hZHMgY2F0ZWdvcnkgbWFwcGluZ3MgZnJvbSBzaGFyZWQgSlNPTiBjb25maWd1cmF0aW9uXHJcblxyXG5pbXBvcnQgY2F0ZWdvcnlEYXRhIGZyb20gJy4uLy4uL3NoYXJlZC9jYXRlZ29yeU1hcHBpbmcuanNvbic7XHJcblxyXG5jb25zdCBDQVRFR09SWV9NQVBQSU5HID0gY2F0ZWdvcnlEYXRhLm1hcHBpbmdzO1xyXG5jb25zdCBDQVRFR09SSUVTID0gY2F0ZWdvcnlEYXRhLmNhdGVnb3JpZXM7XHJcblxyXG4vLyBKYXZhU2NyaXB0IHZlcnNpb24gb2Ygbm9ybWFsaXplQ2F0ZWdvcnlOYW1lXHJcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVDYXRlZ29yeU5hbWUocmF3KSB7XHJcbiAgbGV0IG5hbWUgPSByYXcudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICctJyk7XHJcbiAgaWYgKG5hbWUuZW5kc1dpdGgoJy1tY3FzJykpIG5hbWUgPSBuYW1lLnNsaWNlKDAsIC01KTtcclxuICBpZiAobmFtZS5lbmRzV2l0aCgnLW1jcScpKSBuYW1lID0gbmFtZS5zbGljZSgwLCAtNCk7XHJcbiAgXHJcbiAgLy8gRmlyc3QgdHJ5IGV4YWN0IG1hdGNoZXNcclxuICBpZiAoQ0FURUdPUllfTUFQUElOR1tuYW1lXSkge1xyXG4gICAgcmV0dXJuIENBVEVHT1JZX01BUFBJTkdbbmFtZV07XHJcbiAgfVxyXG4gIFxyXG4gIC8vIFRoZW4gdHJ5IHByZWZpeCBtYXRjaGVzIGZvciBjYXNlcyB3aGVyZSB3ZSB3YW50IHBhcnRpYWwgbWF0Y2hpbmdcclxuICAvLyBTb3J0IGJ5IGxlbmd0aCAobG9uZ2VzdCBmaXJzdCkgdG8gZW5zdXJlIG1vcmUgc3BlY2lmaWMgbWF0Y2hlcyBjb21lIGZpcnN0XHJcbiAgY29uc3Qgc29ydGVkS2V5cyA9IE9iamVjdC5rZXlzKENBVEVHT1JZX01BUFBJTkcpLnNvcnQoKGEsIGIpID0+IGIubGVuZ3RoIC0gYS5sZW5ndGgpO1xyXG4gIGZvciAoY29uc3Qga2V5IG9mIHNvcnRlZEtleXMpIHtcclxuICAgIGlmIChuYW1lLnN0YXJ0c1dpdGgoa2V5KSkgcmV0dXJuIENBVEVHT1JZX01BUFBJTkdba2V5XTtcclxuICB9XHJcbiAgcmV0dXJuIG5hbWU7XHJcbn1cclxuXHJcbi8vIEdldCBhbGwgYXZhaWxhYmxlIGNhdGVnb3JpZXMgZm9yIHRoZSBhZG1pbiBwYW5lbFxyXG5leHBvcnQgY29uc3QgZ2V0QWxsQ2F0ZWdvcmllcyA9ICgpID0+IHtcclxuICByZXR1cm4gQ0FURUdPUklFUztcclxufTtcclxuIl0sIm5hbWVzIjpbImNhdGVnb3J5RGF0YSIsIkNBVEVHT1JZX01BUFBJTkciLCJtYXBwaW5ncyIsIkNBVEVHT1JJRVMiLCJjYXRlZ29yaWVzIiwibm9ybWFsaXplQ2F0ZWdvcnlOYW1lIiwicmF3IiwibmFtZSIsInRvTG93ZXJDYXNlIiwicmVwbGFjZSIsImVuZHNXaXRoIiwic2xpY2UiLCJzb3J0ZWRLZXlzIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsImxlbmd0aCIsImtleSIsInN0YXJ0c1dpdGgiLCJnZXRBbGxDYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils/categoryConfig.js\n");

/***/ }),

/***/ "(rsc)/./lib/utils/categoryUtils.js":
/*!************************************!*\
  !*** ./lib/utils/categoryUtils.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAllCategories: () => (/* reexport safe */ _categoryConfig_js__WEBPACK_IMPORTED_MODULE_0__.getAllCategories),\n/* harmony export */   normalizeCategoryName: () => (/* reexport safe */ _categoryConfig_js__WEBPACK_IMPORTED_MODULE_0__.normalizeCategoryName)\n/* harmony export */ });\n/* harmony import */ var _categoryConfig_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./categoryConfig.js */ \"(rsc)/./lib/utils/categoryConfig.js\");\n// Import the unified category configuration\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvdXRpbHMvY2F0ZWdvcnlVdGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSw0Q0FBNEM7QUFDa0M7QUFFM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcm9qZWN0XzMvLi9saWIvdXRpbHMvY2F0ZWdvcnlVdGlscy5qcz9mYjI4Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydCB0aGUgdW5pZmllZCBjYXRlZ29yeSBjb25maWd1cmF0aW9uXHJcbmltcG9ydCB7IG5vcm1hbGl6ZUNhdGVnb3J5TmFtZSwgZ2V0QWxsQ2F0ZWdvcmllcyB9IGZyb20gJy4vY2F0ZWdvcnlDb25maWcuanMnO1xyXG5cclxuZXhwb3J0IHsgbm9ybWFsaXplQ2F0ZWdvcnlOYW1lLCBnZXRBbGxDYXRlZ29yaWVzIH07XHJcbiJdLCJuYW1lcyI6WyJub3JtYWxpemVDYXRlZ29yeU5hbWUiLCJnZXRBbGxDYXRlZ29yaWVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/utils/categoryUtils.js\n");

/***/ }),

/***/ "(rsc)/./shared/categoryMapping.json":
/*!*************************************!*\
  !*** ./shared/categoryMapping.json ***!
  \*************************************/
/***/ ((module) => {

module.exports = /*#__PURE__*/JSON.parse('{"mappings":{"english":"english","general-knowledge":"general-knowledge","pak-study":"pak-study","world-current-affairs":"world-current-affairs","pakistan-current-affairs":"pakistan-current-affairs","islamic-studies":"islamic-studies","everyday-science":"everyday-science","mathematics":"maths","maths":"maths","computer":"computer","pedagogy":"pedagogy","physics":"physics","chemistry":"chemistry","biology":"biology","urdu":"urdu","urdu-general-knowledge":"urdu","psychology":"psychology","agriculture":"agriculture","forestry":"forestry","economics":"economics","sociology":"sociology","political-science":"political-science","statistics":"statistics","english-literature":"english-literature","judiciary-and-law":"judiciary-law","judiciary-law":"judiciary-law","international-relations":"international-relations","physical-education":"physical-education","finance":"finance","hrm":"hrm","marketing":"marketing","accounting":"accounting","auditing":"auditing","electrical-engineering":"electrical-engineering","civil-engineering":"civil-engineering","mechanical-engineering":"mechanical-engineering","chemical-engineering":"chemical-engineering","software-engineering":"software-engineering","medical":"medical","biochemistry":"biochemistry","dental-materials":"dental-materials","general-anatomy":"general-anatomy","microbiology":"microbiology","oral-anatomy":"oral-anatomy","oral-histology":"oral-histology","oral-pathology-and-medicine":"oral-pathology-medicine","oral-pathology-medicine":"oral-pathology-medicine","physiology":"physiology","pathology":"pathology","pharmacology":"pharmacology","engineering":"engineering","election-officer":"election-officer","management-sciences":"management-sciences"},"categories":[{"value":"english","label":"English"},{"value":"general-knowledge","label":"General Knowledge"},{"value":"pak-study","label":"Pakistan Studies"},{"value":"world-current-affairs","label":"World Current Affairs"},{"value":"pakistan-current-affairs","label":"Pakistan Current Affairs"},{"value":"islamic-studies","label":"Islamic Studies"},{"value":"everyday-science","label":"Everyday Science"},{"value":"maths","label":"Mathematics"},{"value":"computer","label":"Computer"},{"value":"pedagogy","label":"Pedagogy"},{"value":"physics","label":"Physics"},{"value":"chemistry","label":"Chemistry"},{"value":"biology","label":"Biology"},{"value":"urdu","label":"Urdu"},{"value":"psychology","label":"Psychology"},{"value":"agriculture","label":"Agriculture"},{"value":"forestry","label":"Forestry"},{"value":"economics","label":"Economics"},{"value":"sociology","label":"Sociology"},{"value":"political-science","label":"Political Science"},{"value":"statistics","label":"Statistics"},{"value":"english-literature","label":"English Literature"},{"value":"judiciary-and-law","label":"Judiciary and Law"},{"value":"international-relations","label":"International Relations"},{"value":"physical-education","label":"Physical Education"},{"value":"finance","label":"Finance"},{"value":"hrm","label":"HRM"},{"value":"marketing","label":"Marketing"},{"value":"accounting","label":"Accounting"},{"value":"auditing","label":"Auditing"},{"value":"electrical-engineering","label":"Electrical Engineering"},{"value":"civil-engineering","label":"Civil Engineering"},{"value":"mechanical-engineering","label":"Mechanical Engineering"},{"value":"chemical-engineering","label":"Chemical Engineering"},{"value":"software-engineering","label":"Software Engineering"},{"value":"medical","label":"Medical"},{"value":"biochemistry","label":"Biochemistry"},{"value":"dental-materials","label":"Dental Materials"},{"value":"general-anatomy","label":"General Anatomy"},{"value":"microbiology","label":"Microbiology"},{"value":"oral-anatomy","label":"Oral Anatomy"},{"value":"oral-histology","label":"Oral Histology"},{"value":"oral-pathology-medicine","label":"Oral Pathology Medicine"},{"value":"physiology","label":"Physiology"},{"value":"pathology","label":"Pathology"},{"value":"pharmacology","label":"Pharmacology"},{"value":"engineering","label":"Engineering"},{"value":"election-officer","label":"Election Officer"},{"value":"management-sciences","label":"Management Sciences"}]}');

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fmcqs%2Fbatch%2Froute&page=%2Fapi%2Fmcqs%2Fbatch%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fmcqs%2Fbatch%2Froute.js&appDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=E%3A%5C2.Freelance%5Cmcqs%5Cnext-js&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();