"use strict";(()=>{var e={};e.id=9961,e.ids=[9961],e.modules={11185:e=>{e.exports=require("mongoose")},20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},52353:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>w,requestAsyncStorage:()=>m,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>g});var o={};t.r(o),t.d(o,{GET:()=>p,POST:()=>l});var n=t(49303),a=t(88716),s=t(60670),i=t(87070),u=t(25163),c=t(77742);async function p(e){try{await (0,u.Z)();let{searchParams:r}=new URL(e.url),t=parseInt(r.get("page"))||1,o=parseInt(r.get("limit"))||10,n=(t-1)*o,a=await c.Z.countDocuments(),s=await c.Z.find().skip(n).limit(o);return i.NextResponse.json({results:s,total:a,page:t,totalPages:Math.ceil(a/o)})}catch(e){return console.error("Categories API error:",e),i.NextResponse.json({error:"Failed to fetch categories"},{status:500})}}async function l(e){try{await (0,u.Z)();let r=await e.json(),t=new c.Z(r);return await t.save(),i.NextResponse.json(t,{status:201})}catch(e){return console.error("Error adding category:",e),i.NextResponse.json({message:"Error adding category",error:e.message},{status:500})}}let d=new n.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/categories/route",pathname:"/api/categories",filename:"route",bundlePath:"app/api/categories/route"},resolvedPagePath:"E:\\2.Freelance\\mcqs\\next-js\\app\\api\\categories\\route.js",nextConfigOutput:"",userland:o}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:h}=d,v="/api/categories/route";function w(){return(0,s.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:g})}},77742:(e,r,t)=>{t.d(r,{Z:()=>a});var o=t(11185);let n=new o.Schema({name:{type:String,required:!0},type:{type:String,enum:["MCQ","Quiz","PastPaper","Interview"],required:!0}},{timestamps:!0}),a=o.models.Category||o.model("Category",n)},25163:(e,r,t)=>{t.d(r,{Z:()=>s});var o=t(11185);if(!process.env.MONGO_URI)throw Error("Please define the MONGO_URI environment variable inside .env.local");let n=process.env.MONGO_URI,a=global.mongoose;a||(a=global.mongoose={conn:null,promise:null});let s=async function(){if(a.conn)return a.conn;a.promise||(a.promise=o.connect(n,{bufferCommands:!1}).then(e=>e));try{a.conn=await a.promise}catch(e){throw a.promise=null,e}return a.conn}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[9276,5972],()=>t(52353));module.exports=o})();